<!DOCTYPE html>
<html>

<head>
    <title>Smart URL Shortener</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">

    <div class="card p-4 shadow">

        <h2 class="text-center mb-3">ðŸ”— Smart URL Shortener</h2>

        <form method="POST">

            <input class="form-control mb-3"
                   type="text"
                   name="url"
                   placeholder="Enter URL Here"
                   required>

            <!-- Custom Length -->
            <input class="form-control mb-3"
                   type="number"
                   name="length"
                   placeholder="Short URL Length (Eg: 6)"
                   min="4"
                   max="12"
                   required>

            <button class="btn btn-primary w-100">
                Shorten URL
            </button>

        </form>

        {% if short_url %}

        <hr>

        <h5>Short URL</h5>

        <div class="input-group">

            <input type="text"
                   id="shortUrl"
                   value="{{ short_url }}"
                   class="form-control"
                   readonly>

            <button onclick="copyURL()" class="btn btn-success">
                Copy
            </button>

        </div>

        {% endif %}


        {% if error %}

        <p class="text-danger mt-3">{{ error }}</p>

        {% endif %}

        <br>

        <a href="/history" class="btn btn-dark w-100">
            View History
        </a>

    </div>

</div>

<script>

function copyURL() {

    let copyText = document.getElementById("shortUrl");

    copyText.select();
    copyText.setSelectionRange(0, 99999);

    navigator.clipboard.writeText(copyText.value);

    alert("Short URL Copied Successfully!");

}

</script>

</body>
</html>